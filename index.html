<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>auto-ssh-tunnel by facerecog</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>auto-ssh-tunnel</h1>
          <h2>Automatically create a Reverse SSH Tunnel !</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/facerecog/auto-ssh-tunnel/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/facerecog/auto-ssh-tunnel/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/facerecog/auto-ssh-tunnel" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Overview</strong>
</h1>

<p>Automatic SSH Tunnel is a Python script which can be used to create a Reverse SSH Tunnel between multiple computers running Linux and a centralized server.</p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li><p>Automatically configures and runs <code>openssh</code> to set up a reverse ssh connection during boot up </p></li>
<li><p>Automatically generates ssh keys.</p></li>
<li><p>No need to store the server's password</p></li>
<li><p>Works with Debian-based systems, including Ubuntu</p></li>
<li><p>3-step configuration wizard that requires less than 1 minute to set up</p></li>
</ul>

<h1>
<a id="system-requirements" class="anchor" href="#system-requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>System requirements</strong>
</h1>

<ul>
<li><p>These instructions were tested on Ubuntu 15.10. </p></li>
<li><p>The installation script automatically installs openssh-server with Apt.</p></li>
</ul>

<h1>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Getting started</strong>
</h1>

<h3>
<a id="download" class="anchor" href="#download" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download</h3>

<p>Ubuntu: 
Clone the latest repository version from Github (recommended):
$ git clone <a href="https://github.com/facerecog/auto-ssh-tunnel.git">https://github.com/facerecog/auto-ssh-tunnel.git</a></p>

<p>Alternatively, download the .tar.gz file from the top of this page and unpack it:</p>

<p>$ wget ______ &amp;&amp; tar xf ______</p>

<p>Run configuration.py to specify the port, username, and IP address of the SSH server:</p>

<p>$ python configure.py   
Installation
Run the following command:</p>

<p>$ sudo python setup.py install</p>

<p>Enter the server’s @ as prompted:</p>

<p>What is the server’s rootname@ipaddress?:</p>

<p>You will be prompted for passphrase. Give a blank passphrase.</p>

<p>The installation will proceed automatically. If successful, the output of all the commands should be roughly the following, and end with “[*] We are now finished! Restart the client to complete the installation. To run autossh, input connect.py on the terminal.”</p>

<p>Reading package lists... Done
Building dependency tree<br>
Reading state information... Done
openssh-server is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 118 not upgraded.
What is the server's rootname@ipaddress?: "@"
[<em>] Installing autossh client...
[</em>] Installing autossh as startup application...
mkdir: cannot create directory ‘.ssh’: File exists
yes: standard output: Broken pipe
yes: write error
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): priv_key already exists.
Overwrite (y/n)? [*] Copying SSH-Keys file over to server...
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
"@" 's password: 
Number of key(s) added: 1</p>

<p>Now try logging into the machine, with:   "ssh ' "@" '"
and check to make sure that only the key(s) you wanted were added.</p>

<p>[<em>] Installing private keys inside protected folder...
yes: standard output: Broken pipe
yes: write error
[</em>] Moving autossh client into the /usr/local/bin/ directory...
[*] Moving private key to /etc/auto-ssh-tunnel/
mkdir: cannot create directory ‘/etc/auto-ssh-tunnel’: File exists
yes: standard output: Broken pipe
yes: write error</p>

<p>[*] We are now finished with the installation! Restart the client to complete the installation. To run autossh, input connect.py on the terminal.</p>

<hr>

<p>First, clone the repository using git (recommended):</p>

<p>$ git clone <a href="https://github.com/facerecog/auto-ssh-tunnel/">https://github.com/facerecog/auto-ssh-tunnel/</a>
Then change the PORT and the IP ADDRESS of the server we are connecting to:</p>

<p>$ cd Client
$ nano connect.py
location_of_pem_file = "/home/install/Downloads/auto-ssh-tunnel/server"
port_open = "50000"
username_ipaddress = "server@192.168.1.202"
Then give the execution permission to the setup.py script and run it:</p>

<p>$ sudo python setup.py install
The first time you run setup.py install, you'll be guided through a wizard in order to configure ssh as a [S]erver or a [C]lient.</p>

<h3>
<a id="configuration-wizard" class="anchor" href="#configuration-wizard" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration wizard</h3>

<p>The configuration wizard is pretty self-explanatory. One thing to notice is that you will generate a current_directory/. The file to current_directory/ is your pem key to enable this client to ssh to the server without the use of password. During the setup.py install, a public key will be pushed to the server and saved in /.ssh/authorized_keys You should never exchange your private pem keys to others.</p>

<h3>
<a id="configuration-as-a-client" class="anchor" href="#configuration-as-a-client" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration as a Client</h3>

<p>Generating public/private rsa key pair.
Enter file in which to save the key (/home/anonymouse/.ssh/id_rsa): server
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in server.
Your public key has been saved in server.pub.
The key fingerprint is:
bb:c6:9c:ee:6b:c0:67:58:b2:bb:4b:44:72:d3:cc:a5 localhost@localhost
The key's randomart image is:
Configuration as a Server</p>

<p>$ ifconfig
Port forward your IP address to port 22 on your modem or router</p>

<h3>
<a id="available-commands" class="anchor" href="#available-commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available commands</h3>

<p>connect.py; Manually connect the client to the server
Tested Environments</p>

<p>Raspberry Pi
Ubuntu 14.04 LTS
Customer Service and Support</p>

<p>If you want to support this project, please consider reaching out to me:</p>

<p>Email: <a href="mailto:muhd.amrullah@facerecog.asia">muhd.amrullah@facerecog.asia</a></p>

<p>Property of Facerecog Asia Pte. Ltd. and 26 Factorial</p>
        </section>

        <footer>
          auto-ssh-tunnel is maintained by <a href="https://github.com/facerecog">facerecog</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
